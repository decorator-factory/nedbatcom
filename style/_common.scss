// Definitions for use everywhere.

// Debugging options: yes or no
$debug-structure: no;
$debug-links: no;

// Political changes
$mourning: yes;

// Global constants

$light-bg-color: white;
$light-sidebar-bg-color: #eee;
$light-blockquote-bg-color: #f0f0f0;
$light-fg-color: black;
$light-footer-fg-color: #333;
$light-inside-link-color: red;
$light-info-text-color: #595959;
$light-link-color: #00a;
$light-link-hover-color: #00f;
$light-green-bg: #cfd;
$light-red-bg: #fcc;
$light-light-edge: #ccc;
$light-dark-edge: #999;

$dark-bg-color: #1F1F1F;
$dark-sidebar-bg-color: $dark-bg-color;
$dark-blockquote-bg-color: #2C2C2C;
$dark-fg-color: #eeeeee;
$dark-footer-fg-color: $dark-fg-color;
$dark-inside-link-color: #f88;
$dark-info-text-color: #aaa;
$dark-link-color: #fff2aa;
$dark-link-hover-color: #eee;
$dark-green-bg: #325541;
$dark-red-bg: #844;
$dark-light-edge: #666;
$dark-dark-edge: #000;

:root {
    --bg-color: #{$light-bg-color};
    --sidebar-bg-color: #{$light-sidebar-bg-color};
    --blockquote-bg-color: #{$light-blockquote-bg-color};
    --fg-color: #{$light-fg-color};
    --footer-fg-color: #{$light-footer-fg-color};
    --inside-link-color: #{$light-inside-link-color};
    --info-text-color: #{$light-info-text-color};
    --link-color: #{$light-link-color};
    --link-hover-color: #{$light-link-hover-color};
    --green-bg: #{$light-green-bg};
    --red-bg: #{$light-red-bg};
    --light-edge: #{$light-light-edge};
    --dark-edge: #{$light-dark-edge};

    @media (prefers-color-scheme: dark) {
        --bg-color: #{$dark-bg-color};
        --sidebar-bg-color: #{$dark-sidebar-bg-color};
        --blockquote-bg-color: #{$dark-blockquote-bg-color};
        --fg-color: #{$dark-fg-color};
        --footer-fg-color: #{$dark-footer-fg-color};
        --inside-link-color: #{$dark-inside-link-color};
        --info-text-color: #{$dark-info-text-color};
        --link-color: #{$dark-link-color};
        --link-hover-color: #{$dark-link-hover-color};
        --green-bg: #{$dark-green-bg};
        --red-bg: #{$dark-red-bg};
        --light-edge: #{$dark-light-edge};
        --dark-edge: #{$dark-dark-edge};
    }

    --light-dark-duration: 0.5s;
    --light-dark-timing: ease;

    color-scheme: light dark;
}

html.dark {
    --bg-color: #{$dark-bg-color};
    --sidebar-bg-color: #{$dark-sidebar-bg-color};
    --blockquote-bg-color: #{$dark-blockquote-bg-color};
    --fg-color: #{$dark-fg-color};
    --footer-fg-color: #{$dark-footer-fg-color};
    --inside-link-color: #{$dark-inside-link-color};
    --info-text-color: #{$dark-info-text-color};
    --link-color: #{$dark-link-color};
    --link-hover-color: #{$dark-link-hover-color};
    --green-bg: #{$dark-green-bg};
    --red-bg: #{$dark-red-bg};
    --light-edge: #{$dark-light-edge};
    --dark-edge: #{$dark-dark-edge};
}

@mixin colors($bgcolor, $fgcolor: --fg-color) {
    background: var($bgcolor);
    color: var($fgcolor);
    transition:
        color var(--light-dark-duration) var(--light-dark-timing),
        background-color var(--light-dark-duration) var(--light-dark-timing);
}

// PT Serif for body text. Source Serif has no italic, Merriweather is wider and has old-style numerals.
$me-font: "PT Serif NB", Georgia, serif;
$them-font: "Source Sans Pro", Verdana, sans-serif;
$code-font: Menlo, "courier new", monospace;

$magnifier-size: 22px;

@import 'debug_structure';

@font-face {
  font-family: 'PT Serif NB';
  font-style: normal;
  font-weight: 700;
  src: local('PTSerif-NB-Bold'), url(/files/PTSerif-NB-Bold.woff2) format('truetype');
  font-display: swap;
}
@font-face {
  font-family: 'PT Serif NB';
  font-style: italic;
  font-weight: 700;
  src: local('PTSerif-NB-BoldItalic'), url(/files/PTSerif-NB-BoldItalic.woff2) format('truetype');
  font-display: swap;
}
@font-face {
  font-family: 'PT Serif NB';
  font-style: italic;
  font-weight: 400;
  src: local('PTSerif-NB-Italic'), url(/files/PTSerif-NB-Italic.woff2) format('truetype');
  font-display: swap;
}
@font-face {
  font-family: 'PT Serif NB';
  font-style: normal;
  font-weight: 400;
  src: local('PTSerif-NB-Regular'), url(/files/PTSerif-NB-Regular.woff2) format('truetype');
  font-display: swap;
}

// Common simplifying rules

* {
    box-sizing: border-box;
}

p, h1, h2, h3, h4, h5, h6 {
    padding: 0;
    margin: 1em 0;
}

img {
    border: none;
}

//

@if $debug-links == yes {
    a {
        background: lime;
    }
}

// A link among pages on the site that should be subtle.
@mixin inside-link {
    @if $debug-links == yes {
        background: pink;
    }
    text-decoration: none;
    color: inherit;
    &:hover {
        text-decoration: underline;
        color: var(--inside-link-color);
    }
}
